<!doctype html>

<html>

	<head>
		<title>github-user-contrib</title>
		<meta name="viewport" content="width=device-width">
		<link rel="stylesheet" href="../bootstrap-theme-github/dist/css/bootstrap.css">
		<link rel="stylesheet" href="../templates/app.css">
		<link rel="stylesheet" href="../emojify/css/basic/emojify.min.css" />
		<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js"></script>
		<script type="text/javascript" src="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>
	</head>

	<body>
		<div class="navbar navbar-static-top navbar-inverse">
			<div class="container">
				<div class="navbar-header">
					<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".header-collapse">
						<span class="sr-only">Toggle navigation</span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</button>
					<a class="navbar-brand" href="/overview">ContribCat</a>
				</div>
			</div>
		</div>
		<div class="container">
			<div class="row">
				<div class="col-lg-3">
					<div class="panel panel-default" id="headings">
						<div class="panel-heading">Summary</div>
						<div class="panel-body">
							<h3>{{ user.details.name }}</h3>
							<div class="grav">
								<img src="{{ user.gravatar }}" width="230"/>
							</div>
							<div class="kudos">
								<div class="score">{{ user.scores.kudos }}</div>
							</div>
						</div>
						<ul class="list-group list-group-flush">
							<li class="list-group-item">Joined
								<span class="created-at">{{ user.details.created_at | formatDate }}</span>
							</li>
							<li class="list-group-item">Pull Requests made
								<span class="label label-primary">{{ user.scores.prCount }}</span>
							</li>
							<li class="list-group-item">Comments made
								<span class="label label-primary">{{ user.scores.filteredForCount }}</span>
							</li>
							<li class="list-group-item">Comments against
								<span class="label label-primary">{{ user.scores.filteredAgainstCount }}</span>
							</li>
							<li class="list-group-item excludedScoreAttribute">Average comments per PR
								<span class="label label-primary">{{ user.scores.averageCommentsPerPr }}</span>
							</li>
							<li class="list-group-item excludedScoreAttribute">Comments made (filtered)
								<span class="label label-primary">{{ user.scores.forCount - user.scores.filteredForCount }}</span>
							</li>
							<li class="list-group-item excludedScoreAttribute">Comments against (filtered)
								<span class="label label-primary">{{ user.scores.againstCount - user.scores.filteredAgainstCount }}</span>
							</li>
							<li class="list-group-item excludedScoreAttribute">Sentiment
								<span class="label label-primary">{{ user.scores.sentiment }}</span>
							</li>
							<li class="list-group-item excludedScoreAttribute">Emoji's used
								<span class="label label-primary">{{ user.scores.emojis }}</span>
							</li>
						</ul>
					</div>
				</div>
				<div class="col-lg-4">
					<div class="panel panel-default">
						<div class="panel-heading">Most comfortable Repositories</div>
						<ul class="list-group list-group-flush">
							{% for repo in user.strongestRepos %}
							<li class="list-group-item">
								<a href="{{repo.name | githubLinkBuilder}}">{{ repo.name  }}</a>
								<span class="label label-primary">{{ repo.kudos }}</span>
							</li>
							{% endfor %}
						</ul>
					</div>
				</div>
				<div class="col-lg-4">
					<div class="panel panel-default">
						<div class="panel-heading">Least comfortable Repositories</div>
						{% for repo in user.weakestRepos %}
						<li class="list-group-item">
							<a href="{{repo.name | githubLinkBuilder}}">{{ repo.name  }}</a>
							<span class="label label-primary">{{ repo.kudos }}</span>
						</li>
						{% endfor %}
					</div>
				</div>
				<div class="col-lg-8">
					<div class="panel panel-default" id="comments">
						<div class="panel-heading">Your Comments
						</div>
						<div class="panel-body comment-list">
							{% for repo in user.repos %}
							{% for comment in repo.for %}
							<div class="panel panel-{{ comment.sentiment | sentimentClass }}" id="labels">
								<div class="comment panel-heading">
									<a href="{{ comment.html_url }}">{{ comment.html_url | githubPretty }}</a>
									{% if comment.filtered %}
									<span class="filteredComment label label-primary" title="Filtered comments are not included in the score calculation">filtered</span>
									{% endif %}
								</div>
								<div class="comment panel-body">
									{{ comment.body | safe }}
								</div>
							</div>
							{% endfor %}
							{% endfor %}
						</div>
					</div>
				</div>
			</div>
	</div>
	<script src="../emojify/js/emojify.js"></script>
	<script>
		emojify.setConfig({
			img_dir: "../emojify/images/basic"
		});
		emojify.run(document.getElementById("comments"));
	</script>
	</body>
</html>
